"use strict";function TAX(a){for(var b={total:0,detail:[]},c=0,d=1;d<taxLevels.length;d++)if(taxLevels[d-1].max<a&&a<=taxLevels[d].max){c=d;break}for(var e=c;e>0;e--){var f=a-taxLevels[e-1].max;b.total+=f*taxLevels[e].tax,a-=f}return b}var taxLevels=[{max:15e4,tax:0},{max:3e5,tax:.05},{max:5e5,tax:.1},{max:75e4,tax:.15},{max:1e6,tax:.2},{max:2e6,tax:.25},{max:4e6,tax:.3},{max:1/0,tax:.35}],app=angular.module("taxApp",["ngCookies","ngResource"]);app.config(["$routeProvider",function(a){a.when("/",steps[0]).when("/step/:id",steps[1]).otherwise({redirectTo:"/"})}]);var steps=[{name:"introduction",templateUrl:"views/step.html",controller:"StepCtrl"},{name:"income",controller:"StepCtrl",templateUrl:"views/step.html"},{name:"abstain-income",controller:"StepCtrl",templateUrl:"views/step.html"},{name:"expense",controller:"StepCtrl",templateUrl:"views/step.html"},{name:"deduction",controller:"StepCtrl",templateUrl:"views/step.html"},{name:"deduction-investment",controller:"StepCtrl",templateUrl:"views/step.html"},{name:"prepaid-tax",controller:"StepCtrl",templateUrl:"views/step.html"},{name:"summary",controller:"StepCtrl",templateUrl:"views/step.html"}];app.controller("StepCtrl",["$scope","$routeParams","$rootScope",function(a,b,c){a.id=parseInt(b.id)||0,a.name=steps[a.id].name,a.templateUrl="views/steps/"+a.name+".html",c.currentStep=a.id}]),app.controller("NavigationCtrl",["$scope","$rootScope",function(a,b){a.steps=steps,a.shouldSelect=function(a){return a<=b.currentStep?!0:!1}}]);